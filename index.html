<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Nicholas&#39; Blag</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="A Full-Stack JavaScript Developer Making His Way In The World">
<meta property="og:type" content="website">
<meta property="og:title" content="Nicholas' Blag">
<meta property="og:url" content="https://babelthuap.github.io/blog/index.html">
<meta property="og:site_name" content="Nicholas' Blag">
<meta property="og:description" content="A Full-Stack JavaScript Developer Making His Way In The World">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nicholas' Blag">
<meta name="twitter:description" content="A Full-Stack JavaScript Developer Making His Way In The World">
  
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-72417130-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog" id="logo">Nicholas&#39; Blag</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog" id="subtitle">JavaScripter and Mathist</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="http://babelthuap.github.io/">My Homepage</a>
        
          <a class="main-nav-link" href="/blog/archives">Blog Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://babelthuap.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-combinations" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2016/01/15/combinations/" class="article-date">
  <time datetime="2016-01-16T06:06:50.000Z" itemprop="datePublished">Jan 15th, 2016</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2016/01/15/combinations/">Generating All Unique Subsequences and Sorting</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="The_Challenge"><a href="#The_Challenge" class="headerlink" title="The Challenge"></a>The Challenge</h2><p>We recently received a code challenge similar to the following here at <a href="https://codinghouse.co/" target="_blank" rel="external">Coding House</a>: <em>Given a string <code>str</code>, generate a lexicographically sorted array containing all unique subsequences of <code>str</code>.</em> Challenge accepted!</p>
<p>There are two parts to this problem: (1) generating the subsequences and (2) returning a sorted array. Although they will end up intertwined, I’ll treat them one at a time.</p>
<h2 id="Generating_The_Subsequences"><a href="#Generating_The_Subsequences" class="headerlink" title="Generating The Subsequences"></a>Generating The Subsequences</h2><p>A subsequence of <code>str</code> is generated by deleting one or more letters of <code>str</code> while keeping the others. For example, if <code>str</code> is <code>&#39;abcd&#39;</code>, then several (not all) subsequences are</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'abcd'</span></span><br><span class="line"><span class="string">'b'</span></span><br><span class="line"><span class="string">'bd'</span></span><br><span class="line"><span class="string">'acd'</span></span><br></pre></td></tr></table></figure>
<p>The trick is to think of this as “which letters are we keeping vs. which are we throwing out?” Let’s rewrite each of the above subsequences taking note of which letters were kept from the original <code>str</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    a b c d       a b c d       a b c d       a b c d</span><br><span class="line">    <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>       <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span>       <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span>       <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">-&gt;  a b c d         b             b   d       a   c d</span><br></pre></td></tr></table></figure>
<p>Aha! Each subsequence of <code>&#39;abcd&#39;</code> corresponds with a binary number between <code>0000</code> and <code>1111</code>. Thus, to generate all subsequences, we need only iterate through all numbers from 0 up through 2^4 - 1 and map each number to its corresponding subsequence. Let’s put that into code.</p>
<p>Our <code>for</code> loop will start at 0 and go up to 2^n. An easy way to calculate 2^n is with the expression <code>1 &lt;&lt; n</code>, using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators" target="_blank" rel="external">bitshift operator</a>. On each iteration, we need to take the iteration variable (let’s call it <code>i</code>) and turn it into a binary string of the right length. We can convert <code>i</code> to binary with <code>i.toString(2)</code>, but this will output a string like so:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">0</span>).toString(<span class="number">2</span>) -&gt; <span class="string">"0"</span></span><br><span class="line">(<span class="number">3</span>).toString(<span class="number">2</span>) -&gt; <span class="string">"11"</span></span><br><span class="line">(<span class="number">5</span>).toString(<span class="number">2</span>) -&gt; <span class="string">"101"</span></span><br></pre></td></tr></table></figure>
<p>We want to pad this binary string with zeros. There are multiple ways to do this. I’ll use</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> padding = <span class="string">'0'</span>.repeat(str.length - <span class="number">1</span>); <span class="comment">// generate something like '000'</span></span><br><span class="line"><span class="keyword">var</span> binary = (padding + i.toString(<span class="number">2</span>)).slice(-str.length);</span><br></pre></td></tr></table></figure>
<p>The last piece of the puzzle is to map this string <code>binary</code> to the subsequence it represents. That’s fairly straightforward. We split <code>binary</code> into an array, map it, then join it:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binary.split(<span class="string">''</span>).map((x, index) =&gt; x === <span class="string">'1'</span> ? str[index] : <span class="string">''</span>).join(<span class="string">''</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Sorting_The_Output_Array"><a href="#Sorting_The_Output_Array" class="headerlink" title="Sorting The Output Array"></a>Sorting The Output Array</h2><p>We’ve almost got a working piece of code! We just need to store the generated subsequences somewhere. An easy option is to use a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" target="_blank" rel="external">Set</a>, which will take care of uniqueness for us. When we’re done with the generating, we can just convert the Set to an Array, sort it, and return it. Let’s see what we have:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subsequences</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> subseqs = <span class="keyword">new</span> <span class="built_in">Set</span>(); <span class="comment">// initialize an empty Set</span></span><br><span class="line">  <span class="keyword">var</span> padding = <span class="string">'0'</span>.repeat(str.length - <span class="number">1</span>); <span class="comment">// this doesn't need to be inside the loop</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; str.length); i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> binary = (padding + i.toString(<span class="number">2</span>)).slice(-str.length);</span><br><span class="line">    <span class="keyword">var</span> subseq = binary.split(<span class="string">''</span>)</span><br><span class="line">                       .map((x, index) =&gt; x === <span class="string">'1'</span> ? str[index] : <span class="string">''</span>)</span><br><span class="line">                       .join(<span class="string">''</span>);</span><br><span class="line">    subseqs.add(subseq); <span class="comment">// insert a new subsequence ONLY IF it's not already in 'subseqs'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(subseqs).sort();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This works! Woohoo! Try it out.</p>
<p>However… we can do better. Basically, we want to maintain a sorted collection as we add subsequences. We need two things to do so efficiently: an algorithm and a suitable data structure. I’m thinking of binary insertion for the algorithm. But can you think of a suitable data structure? Arrays have linear insertion – that’s no good. Is there some kind of tree that will work? I’ll let you ponder that. :)</p>
<p><em>TO BE CONTINUED</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babelthuap.github.io/blog/2016/01/15/combinations/" data-id="cijgpoiah000wjr2feczrjp9v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/algorithms/">algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/combinatorics/">combinatorics</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-permutations" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2016/01/13/permutations/" class="article-date">
  <time datetime="2016-01-14T03:12:53.000Z" itemprop="datePublished">Jan 13th, 2016</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2016/01/13/permutations/">Generating All Permutations of an Array</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Today I’ll be tackling the problem of <strong>generating all permutations of an array</strong>. This is a fun problem to solve using recursion. I will assume that you are familiar with JavaScript.</p>
<p>TL;DR &rarr; There’s a JS Bin sample of working code at the end of this post.</p>
<h2 id="With_Pen_And_Paper"><a href="#With_Pen_And_Paper" class="headerlink" title="With Pen And Paper"></a>With Pen And Paper</h2><p>First of all, what <em>is</em> a permutation of an array? It’s simply a reordering of the elements of that array. Think anagrams: the word “tops” contains the same letters as “spot”, just in a different order. We’d say that <code>[t, o, p, s]</code> is a permutation of <code>[s, p, o, t]</code>. That’s pretty simple.</p>
<p>Now, how would we generate all possible permutations of an array? Before we think about telling a computer how to do it, let’s think about how to do it ourselves. For simplicity, let’s start by writing down all the permutations of <code>[a, b, c]</code>:</p>
<p><img src="/blog/css/images/permutations.jpg"></p>
<p>You might see the general pattern here. There are 3 possibilities for index 0. Then, for each of those, there are only 2 possibilities for index 1. Once you’ve chosen those, there’s only 1 choice left for index 2. That means there are 3 &times; 2 &times; 1 = 3! = <strong>6</strong> possible permutations, as we see above. Generalizing quickly, there must be <em>n</em>! permutations on an array with <em>n</em> elements.</p>
<h2 id="Setting_Up_Our_Algorithm"><a href="#Setting_Up_Our_Algorithm" class="headerlink" title="Setting Up Our Algorithm"></a>Setting Up Our Algorithm</h2><p>Now we need to tell the computer how to do precisely what we did by hand. That is, we need to turn our loose pen-and-paper method into an algorithm. Setting it up is easy: we’ll create an array <code>perms</code>, add all the permutations of the input <code>arr</code> to it, then return <code>perms</code>, like so:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allPermutations</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> perms = [];</span><br><span class="line">  <span class="comment">// push all permutations of arr into 'permutations'</span></span><br><span class="line">  <span class="keyword">return</span> perms;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>As we saw above, there are <em>n</em> possibilities for index 0. Let’s loop through those possibilities (the <em>n</em> elements of <code>arr</code>) and set that as the first element of a permutation. We’ll then need to generate all the permutations of <code>arr</code> which start with that first element.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allPermutations</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> perms = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> firstElement = arr[i];</span><br><span class="line">    <span class="keyword">var</span> permsOnElem = [];</span><br><span class="line">    <span class="comment">// generate all permutations which start with 'firstElement'</span></span><br><span class="line">    perms = perms.concat(permsOnElem); <span class="comment">// then add those to 'perms'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> perms;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We’ve reduced the problem to figuring out line 7. This is where the recursion comes in!</p>
<h2 id="Using_Recursion"><a href="#Using_Recursion" class="headerlink" title="Using Recursion"></a>Using Recursion</h2><p>Start with a concrete example like we did by hand. Say we’re dealing with <code>[a, b, c]</code> again. First, we fix <code>firstElement</code> as <code>a</code>. To find all such permutations, <em>we just need to find all permutations of the remaining elements</em> and prepend <code>a</code> to each. The permutations of <code>[b, c]</code> are simply <code>[b, c]</code> and <code>[c, b]</code>. Prepend <code>a</code> to each, and we get</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[a, b, c]</span><br><span class="line">[a, c, b]</span><br></pre></td></tr></table></figure>
<p>which is the first column in our hand-generated list of permutations. If we do this with <code>b</code> and <code>c</code>, then we’re done! The important part here is that <em>we need to do the exact same thing – find all permutations – to a subset of the original problem</em>. That’s what recursion is all about. What we need to do here is call <code>allPermutations</code> on the “remaining elements” (i.e., <code>arr</code> minus <code>firstElement</code>). In JavaScript, one way to compute this array of remaining elements is</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> remaining = arr.slice(<span class="number">0</span>, i).concat(arr.slice(i + <span class="number">1</span>));</span><br></pre></td></tr></table></figure>
<p>We can then call <code>allPermutations</code> on <code>remaining</code>. For each permutation, we’ll prepend <code>firstElement</code>, then add it to <code>perms</code> (which, remember, is supposed to eventually be the collection of all permutations that we want).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allPermutations</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> perms = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> firstElement = arr[i];</span><br><span class="line">    <span class="keyword">var</span> permsOnElem = [];</span><br><span class="line">    <span class="keyword">var</span> remaining = arr.slice(<span class="number">0</span>, i).concat(arr.slice(i + <span class="number">1</span>));</span><br><span class="line">    allPermutations(remaining).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">perm</span>) </span>&#123;</span><br><span class="line">      permsOnElem.push( [firstElement].concat(perm) );</span><br><span class="line">    &#125;);</span><br><span class="line">    perms = perms.concat(permsOnElem);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> perms;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We’re almost there! The last thing our recursive function needs is a <em>base case</em>. This tells is when to stop recursing. It is usually the trivial case. Here, the base case can be when <code>arr</code> only has 1 element. In that case, there’s only one permutation! Put that in, and our final code is</p>
<p><a class="jsbin-embed" href="http://jsbin.com/sunuhi/embed?js" target="_blank" rel="external">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.35.9"></script></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babelthuap.github.io/blog/2016/01/13/permutations/" data-id="cijdw7m6w000bjr2fx5jpmjmm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/algorithms/">algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/combinatorics/">combinatorics</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/recursion/">recursion</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-hexo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2016/01/12/hello-hexo/" class="article-date">
  <time datetime="2016-01-12T08:00:00.000Z" itemprop="datePublished">Jan 12th, 2016</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2016/01/12/hello-hexo/">Hello, Hexo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>It has been quite a while since I last wrote a blog post. I used to have a blog on <a href="https://babelthuap.wordpress.com/" target="_blank" rel="external">WordPress</a>, but hey – <em>I know code now</em>. And I have more interesting things to say! For instance, I’m pretty proud of this one-line <a href="https://en.wikipedia.org/wiki/Memoization" target="_blank" rel="external">memoized</a> Fibonacci function:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = &#123;<span class="number">0</span>: <span class="number">1</span>, <span class="number">1</span>: <span class="number">1</span>&#125;, fib = n =&gt; m[n] ? m[n] : m[n] = fib(n - <span class="number">1</span>) + fib(n - <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>Pretty nifty.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babelthuap.github.io/blog/2016/01/12/hello-hexo/" data-id="cijdw7m78000mjr2ffkk5lhxv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/fibonacci/">fibonacci</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-deploying-your-first-heroku-app" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2015/11/10/deploying-your-first-heroku-app/" class="article-date">
  <time datetime="2015-11-11T01:49:38.000Z" itemprop="datePublished">Nov 10th, 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2015/11/10/deploying-your-first-heroku-app/">Deploying Your First Heroku App</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://babelthuap.files.wordpress.com/2015/11/heroku_logo.png" alt="" title="Heroku logo"></p>
<p>I deployed <a href="https://secure-earth-5739.herokuapp.com/" target="_blank" rel="external">my first Node.js app on Heroku</a> last night! (Source code <a href="https://github.com/babelthuap/markdown-to-html" target="_blank" rel="external">here</a>.) <em>After</em> I figured it out, it seemed easy and straightforward. However, it took a little time to get there. I’d like to share what worked for me.</p>
<p>The <a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs" target="_blank" rel="external">tutorial</a> on the Heroku site seems beginner-friendly, and it mostly is. There are a few key steps, however, without which your first deployment will not be easy. Here’s a quick summary of what you actually need to do:</p>
<ol>
<li><p>Make sure your project directory is a git repo.</p>
</li>
<li><p>Make sure your package.json correctly lists all your npm package dependencies.</p>
</li>
<li><p>Add a “start” script to your package.json. That is, supposing your server is called app.js, add</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"start"</span>: <span class="string">"node app.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Specify, in your package.json, the engine you’re using. Supposing you want to use 5.0.0, you need</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"engines"</span>: &#123;</span><br><span class="line">  <span class="string">"node"</span>: <span class="string">"5.0.0"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>You need to be able to test your server locally and also have it work on Heroku. Set it to listen at</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">process.env.PORT || <span class="number">3000</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Set up Heroku Toolbelt via <a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs#set-up" target="_blank" rel="external">these instructions</a>.</p>
</li>
<li><p>Finally, deploy your app with <a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs#deploy-the-app" target="_blank" rel="external">these commands</a>. If all goes well, you should now have an app deployed to Heroku! To update it, you just need to commit your changes via git, then do</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push heroku master</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><em>See <a href="https://scotch.io/tutorials/how-to-deploy-a-node-js-app-to-heroku" target="_blank" rel="external">here</a> for a more in-depth walkthrough.</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://babelthuap.github.io/blog/2015/11/10/deploying-your-first-heroku-app/" data-id="cijdw7m630000jr2ftucgede3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/coding-house/">coding house</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/heroku/">heroku</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/node/">node</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="extend next" rel="next" href="/blog/page/2/">Next &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title">About Me</h3>
  <div class="widget">
    <a href="http://babelthuap.github.io/"><img src="https://s.gravatar.com/avatar/c31c4c03a92468fed41bf63c62dd725b?s=188" width="94" alt="profile picture"></a>
    <p>
      My name is Nicholas Neumann-Chun. I'm a full-stack JavaScript developer with a math degree from <a href="http://www.williams.edu/">Williams College</a>. "About me" in six words: <strong>I like building things with code!</strong> I like playing with algorithms and solving puzzles. Moreover, I hope to build things that make the world a better place to live in. You can check out my personal homepage <a href="https://babelthuap.github.io/">here</a>, or find me on one of the following:
      <a href="https://github.com/babelthuap">GitHub</a>,
      <a href="https://twitter.com/Babelthuap">Twitter</a>,
      <a href="https://www.linkedin.com/in/nicholas-neumann-chun-953a12103">LinkedIn</a>,
      <a href="https://angel.co/nicholas-neumann-chun">Angel List</a>
    </p>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/algorithms/">algorithms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/coding-house/">coding house</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/combinatorics/">combinatorics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/fibonacci/">fibonacci</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/hackathon/">hackathon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/recursion/">recursion</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/teaching/">teaching</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/09/">September 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2016/01/15/combinations/">Generating All Unique Subsequences and Sorting</a>
          </li>
        
          <li>
            <a href="/blog/2016/01/13/permutations/">Generating All Permutations of an Array</a>
          </li>
        
          <li>
            <a href="/blog/2016/01/12/hello-hexo/">Hello, Hexo</a>
          </li>
        
          <li>
            <a href="/blog/2015/11/10/deploying-your-first-heroku-app/">Deploying Your First Heroku App</a>
          </li>
        
          <li>
            <a href="/blog/2015/11/09/first-hackathon-learning-teamwork/">First Hackathon: Learning Teamwork</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Nicholas Neumann-Chun<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="http://babelthuap.github.io/" class="mobile-nav-link">My Homepage</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Blog Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/blog/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>